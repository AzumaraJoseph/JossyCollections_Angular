<div class="fluid-container" style="background-color: rgba(234, 234, 234, 0.982); margin-top: 10rem;"  >
    <div >
        <div style="background-color: white; margin-bottom: 3rem;">
            <h5>
                Account Information
            </h5>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-2 p-2 me-3" style="background-color: white; border-radius: 6px;" >
                <div class="d-flex " >
                    <div class="me-3">
                        <span class="material-symbols-outlined" style="font-size: 1.9rem;">
                            account_circle
                        </span>
                    </div>
                    <div>
                        <p class="title" >My Profile</p>
                        <div class="profile"><a href="">Account Information</a></div>
                        <div class="profile"><a href="">Delivery Address</a></div>
                    </div>
                </div>
                <hr style="color: rgba(132, 131, 131, 0.985);">
                <div class="d-flex" >
                    <div class="me-3">
                        <span class="material-symbols-outlined" style="font-size: 1.9rem;">
                            shopping_bag
                        </span>
                    </div>
                    <div>
                        <p class="title" >My Orders</p>
                        <div class="profile"><a href="">Order History</a></div>
                        <div class="profile"><a href="">Pending Ratings</a></div>
                    </div>
                </div>
                <hr style="color: rgba(132, 131, 131, 0.985);">
                <div class="d-flex" >
                    <div class="me-3">
                        <span class="material-symbols-outlined" style="font-size: 1.9rem;">
                            account_balance_wallet
                        </span>
                        
                    </div>
                    <div>
                        <p class="title" >My Wallet</p>
                        <div class="profile"><a href="">Wallet</a></div>
                    </div>
                </div>
                <hr style="color: rgba(132, 131, 131, 0.985);">
                <div class="d-flex" >
                    <div class="me-3">
                        <span class="material-symbols-outlined" style="font-size: 1.9rem;">
                            person_cancel
                        </span>
                    </div>
                    <div>
                        <p class="title" >Delete Account</p>
                        <div class="profile"><a href="">Delete Account</a></div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div style="background-color: white; border-radius: 6px;" >
                    <h5 class="mb-0 p-3">Account Information</h5>
                    <hr style="color: rgba(123, 122, 122, 0.985); margin: 0;">
                    <div style="padding: 1rem 2rem;">
                        <form novalidate autocomplete="off" [formGroup]="profileForm" >
                            <div class="col-md-12 mb-4">
                                <label for="firstNameId" class="form-label mb-2">First Name</label>
                                <input type="text" class="form-control" id="firstNameId" formControlName="firstName" placeholder="Enter First Name"
                                [ngClass]="{ 'is-invalid': (profileForm.controls['firstName'].touched || profileForm.controls['firstName'].dirty) && !profileForm.controls['firstName'].valid }" >

                                <!-- <span class="invalid-feedback">
                                    <span *ngIf="profileForm.controls['firstName']?.errors?.['required']"><em>Please enter first name</em> 
                                    </span>
                                    <span *ngIf="profileForm.controls['firstName']?.errors?.['minlength']">First name must be more than 3 characters</span>
                                </span> -->
                                <div *ngIf="(profileForm.controls['firstName'].touched || profileForm.controls['firstName'].dirty)  && !profileForm.controls['firstName'].valid">
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['firstName'].errors?.['required']">
                                      <em>Please enter first name</em>
                                    </span>
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['firstName'].errors?.['minlength']">
                                        First name must be more than 3 characters
                                    </span>
                                </div>

                            </div>

                            <div class="col-md-12 mb-4">
                                <label for="lastNameId" class="form-label mb-2">Last Name</label>
                                <input type="text" class="form-control" id="lastNameId" formControlName="lastName" placeholder="Enter Last Name"
                                [ngClass]="{ 'is-invalid': (profileForm.controls['lastName'].touched || profileForm.controls['lastName'].dirty) && !profileForm.controls['lastName'].valid }" >

                                <div *ngIf="(profileForm.controls['lastName'].touched || profileForm.controls['lastName'].dirty)  && !profileForm.controls['lastName'].valid">
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['lastName'].errors?.['required']">
                                      <em>Please enter last name</em>
                                    </span>
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['lastName'].errors?.['maxlength']">
                                        Last name must not be more than 20 characters
                                    </span>
                                </div>
                            </div>

                            <div class="col-md-12 mb-4">
                                <label for="emailId" class="form-label mb-2">Email</label>
                                <input type="email" class="form-control" id="emailId" formControlName="email" placeholder="Enter Email Address"
                                [ngClass]="{ 'is-invalid': (profileForm.controls['email'].touched || profileForm.controls['email'].dirty) && !profileForm.controls['email'].valid }" >

                                <div *ngIf="(profileForm.controls['email'].touched || profileForm.controls['email'].dirty)  && !profileForm.controls['email'].valid">
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['email'].errors?.['required']">
                                      <em>Please enter email address</em>
                                    </span>
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['email'].errors?.['email']">
                                        Please enter valid email address
                                    </span>
                                </div>
                            </div>

                            <div class="col-md-12 mb-4">
                                <label for="currentPasswordId" class="form-label mb-2">Current Password</label>

                                <div class="input-group">
                                    <input 
                                        class="form-control"
                                        [type]="currentPasswordVisible ? 'text' : 'password'"
                                        id="currentPasswordId"
                                        formControlName="currentPassword"
                                        placeholder="Current Password"
                                        [ngClass]="{'is-invalid': (profileForm.controls['currentPassword'].touched || profileForm.get('currentPassword')?.dirty) && !profileForm.get('currentPassword')?.valid }">
                                           
                                    <span class="input-group-text" (click)="toggleCurrentPasswordVisibilty()" style="cursor: pointer;">
                                        <i class="material-icons">{{currentPasswordVisible ? 'visibility' : 'visibility_off'}}</i>
                                    </span>
                                    
                                </div>
                                <div *ngIf="(profileForm.controls['currentPassword'].touched || profileForm.controls['currentPassword'].dirty)  && !profileForm.controls['currentPassword'].valid">
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['currentPassword'].errors?.['required']">
                                      <em>Please enter current password</em>
                                    </span>
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['currentPassword'].errors?.['minlength']">
                                        Password must be more than 8 charatcers
                                    </span>
                                </div>
                            </div>

                            <!-- <div class="col-md-12 mb-4">
                                <label for="currentPasswordId" class="form-label mb-2">Current Password</label>
                                <input type="password" class="form-control" id="currentPasswordId" formControlName="currentPassword"
                                [ngClass]="{ 'is-invalid': (profileForm.controls['currentPassword'].touched || profileForm.controls['currentPassword'].dirty) && !profileForm.controls['currentPassword'].valid }" >

                                <span class="invalid-feedback">
                                    <span *ngIf="profileForm.controls['currentPassword']?.errors?.['required']"><em>Please enter current Password </em> 
                                    </span>
                                    <span *ngIf="profileForm.controls['currentPassword']?.errors?.['minlength']">Password must be more than 8 characters</span>
                                </span>
                            </div> -->

                            <!-- <div class="col-md-12 mb-4">
                                <label for="newPasswordId" class="form-label mb-2">New Password</label>
                                <input type="password" class="form-control" id="newPasswordId" formControlName="newPassword"
                                [ngClass]="{ 'is-invalid': (profileForm.controls['newPassword'].touched || profileForm.controls['newPassword'].dirty) && !profileForm.controls['newPassword'].valid }" >

                                <span class="invalid-feedback">
                                    <span *ngIf="profileForm.controls['newPassword']?.errors?.['required']"><em>Please enter new password </em> 
                                    </span>
                                    <span *ngIf="profileForm.controls['newPassword']?.errors?.['minlength']">Password must be more than 8 characters</span>
                                </span>
                            </div> -->

                            <div class="col-md-12 mb-4">
                                <label for="newPasswordId" class="form-label mb-2">New Password</label>
                                <div class="input-group">
                                    <input
                                        class="form-control"
                                        [type]="newPasswordVisible ?  'text' : 'password'"
                                        id="newPasswordId"
                                        formControlName="newPassword"
                                        placeholder="New Password"
                                        [ngClass]="{'is-invalid': (profileForm.controls['newPassword'].touched || profileForm.controls['newPassword'].dirty) && !profileForm.controls['newPassword'].valid }">
                                            
                                    <span class="input-group-text" (click)="toggleNewPasswordVisibilty()" style="cursor: pointer;">
                                        <i class="material-icons">{{newPasswordVisible ? 'visibility' : 'visibility_off'}}</i>
                                    </span>    
                                </div>

                                <!-- <span class="invalid-feedback">
                                    <span *ngIf="profileForm.controls['newPassword']?.errors?.['required']"><em>Please enter new password </em> 
                                    </span>
                                    <span *ngIf="profileForm.controls['newPassword']?.errors?.['minlength']">Password must be more than 8 characters</span>
                                </span> -->

                                <div *ngIf="(profileForm.controls['newPassword'].touched || profileForm.controls['newPassword'].dirty)  && !profileForm.controls['newPassword'].valid">
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['newPassword'].errors?.['required']">
                                      <em>Please enter new password</em>
                                    </span>
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['newPassword'].errors?.['minlength']">
                                      Password must be more than 8 characters
                                    </span>
                                </div>
                            </div>

                            <!-- <div class="col-md-12 mb-4">
                                <label for="confirmPasswordId" class="form-label mb-2">Confirm Password</label>
                                <input type="password" class="form-control" id="confirmPasswordId" formControlName="confirmPassword">
                            </div> -->
                            <div class="col-md-12 mb-4">
                                <label for="confirmPasswordId" class="form-label mb-2">Confirm Password</label>

                                <div class="input-group">
                                    <input 
                                        class="form-control"
                                        [type]="confirmPasswordVisible ?  'text' : 'password'"
                                        id="confirmPasswordId"
                                        formControlName="confirmPassword"
                                        placeholder="Confirm Password"
                                        [ngClass]="{'is-invalid': (profileForm.controls['confirmPassword'].touched || profileForm.get('confirmPassword')?.dirty) && !profileForm.get('confirmPassword')?.valid }">
                                           
                                    <span class="input-group-text" (click)="toggleConfirmPasswordVisibilty()" style="cursor: pointer;">
                                        <i class="material-icons">{{confirmPasswordVisible ? 'visibility' : 'visibility_off'}}</i>
                                    </span>
                                </div>

                                <!-- <div *ngIf="(profileForm.controls['confirmPassword'].touched || profileForm.controls['confirmPassword'].dirty)  && !profileForm.controls['confirmPassword'].valid">
                                    <span class="invalid-feedback" *ngIf="profileForm.controls['confirmPassword'].errors?.['required']">
                                      <em>Please confirm password</em>
                                    </span>
                                </div> -->
                                <div class="invalid-feedback" >
                                    <span *ngIf="profileForm.hasError('passwordsMismatch') && profileForm.controls['confirmPassword'].touched">                                    <em>Confirm password does not match.</em>
                                    </span>
                                </div>
                            </div>
                
                           
                            <button class="btn button" [disabled]="!profileForm.valid">Save Changes</button>

                        </form>
                    </div>
                </div>
            </div>

        </div>
        
    </div>
    
</div>
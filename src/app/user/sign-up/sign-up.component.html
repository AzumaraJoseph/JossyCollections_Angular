<div class="fluid-container" style="margin-top: 6rem;">
  <app-spinner></app-spinner>
  
  <div class="background">
    <div class="header">
          <span class="material-icons">
              star
          </span>
      </div>
  
      <div class="container">
          <div class="center">
              <h5 class="fw-bold fs-4">Create your Acount</h5>
              <p class="text" style="color: rgba(84, 83, 83, 0.978); font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; margin-bottom: 0;">Let's get started by creating your account. <br>
              To keep your account safe, we need a strong password</p>
          </div>
          <div>
          <form novalidate autocomplete="off" [formGroup]="signUpForm" (ngSubmit)="save()" >
                  <div class="form-floating form-group mb-3">
                      <input type="text"
                          class="form-control"
                          id="firstNameId"
                          formControlName="firstName"
                          placeholder=" Enter Your First Name" 
                          [ngClass]="{'is-invalid': (signUpForm.controls['firstName'].touched || signUpForm.get('firstName')?.dirty) && !signUpForm.get('firstName')?.valid }" >
  
                      <label for="firstNameId">First Name</label>
  
                      <div *ngIf="(signUpForm.controls['firstName'].touched || signUpForm.controls['firstName'].dirty)  && !signUpForm.controls['firstName'].valid">
                          <span class="invalid-feedback" *ngIf="signUpForm.controls['firstName'].errors?.['required']">
                            <em>Please enter your first name</em>
                          </span>
                          <span class="invalid-feedback" *ngIf="signUpForm.controls['firstName'].errors?.['minlength']">
                              First name must be more than 3 characters
                          </span>
                      </div>
                  </div>
  
                  <div class="form-floating form-group mb-3">
                    <input type="text"
                        class="form-control"
                        id="lastNameId"
                        formControlName="lastName"
                        placeholder=" Enter Your Last Name" 
                        [ngClass]="{'is-invalid': (signUpForm.controls['lastName'].touched || signUpForm.get('lastName')?.dirty) && !signUpForm.get('lastName')?.valid }" >
  
                    <label for="lastNameId">Last Name</label>
  
                    <div *ngIf="(signUpForm.controls['lastName'].touched || signUpForm.controls['lastName'].dirty)  && !signUpForm.controls['lastName'].valid">
                        <span class="invalid-feedback" *ngIf="signUpForm.controls['lastName'].errors?.['required']">
                          <em>Please enter your last name</em>
                        </span>
                        <span class="invalid-feedback" *ngIf="signUpForm.controls['lastName'].errors?.['maxlength']">
                            Last name must not exceed 10 characters
                        </span>
                    </div>
                </div>
  
                <div class="form-floating form-group mb-3">
                    <input type="email"
                        class="form-control" 
                        id="emailId"
                        formControlName="email"
                        placeholder=" Enter Your Email" 
                        [ngClass]="{'is-invalid': (signUpForm.controls['email'].touched || signUpForm.get('email')?.dirty) && !signUpForm.get('email')?.valid }" >
  
                    <label for="emailId">Email</label>
                    
  
                    <div *ngIf="(signUpForm.controls['email'].touched || signUpForm.controls['email'].dirty)  && !signUpForm.controls['email'].valid">
                        <span class="invalid-feedback" *ngIf="signUpForm.controls['email'].errors?.['required']">
                            <em>Please enter your email</em>
                        </span>
                        <span class="invalid-feedback" *ngIf="signUpForm.controls['email'].errors?.['email']">
                            Please enter a valid email address
                        </span>
                    </div>
                </div>
  
                <select class="gender mb-3" formControlName="gender">
                  <option value="" disabled hidden>Gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                </select>
  
                <div class="form-floating form-group mb-3">
                  <input type="password"
                    class="form-control"
                    id="passwordId"
                    formControlName="password"
                    placeholder=" Enter Your Password"
                    [ngClass]="{'is-invalid': (signUpForm.get('password')?.touched || signUpForm.get('password')?.dirty) && !signUpForm.get('password')?.valid }">
                  <label for="passwordId">Password</label>
                  <div *ngIf="(signUpForm.get('password')?.touched || signUpForm.get('password')?.dirty) && !signUpForm.get('password')?.valid">
                    <span class="invalid-feedback" *ngIf="signUpForm.get('password')?.errors?.['required']">
                      <em>Please enter your password</em>
                    </span>
                    <span class="invalid-feedback" *ngIf="signUpForm.get('password')?.errors?.['minlength']">
                      Password must be more than 8 characters
                    </span>
                  </div>
                </div>
            
                <div class="form-floating form-group mb-3">
                  <input type="password"
                    class="form-control"
                    id="confirmPasswordId"
                    formControlName="confirmPassword"
                    placeholder=" Enter Your Confirm Password"
                    [ngClass]="{'is-invalid': (signUpForm.get('confirmPassword')?.touched || signUpForm.get('confirmPassword')?.dirty) && (!signUpForm.get('confirmPassword')?.valid || signUpForm.hasError('passwordsMismatch')) }">
                  <label for="confirmPasswordId">Confirm Password</label>
                  <div class="invalid-feedback" *ngIf="signUpForm.hasError('passwordsMismatch') && (signUpForm.controls['confirmPassword'].touched || signUpForm.controls['confirmPassword'].dirty)">
                      <em>Password does not match.</em>
                  </div>
                </div>
  
                <div class="form-floating form-group mb-2">
                    <input type="number" 
                            class="form-control" 
                            id="phoneId" 
                            formControlName="phone" 
                            placeholder=" Enter Your Phone" 
                            [ngClass]="{'is-invalid': (signUpForm.controls['phone'].touched || signUpForm.get('phone')?.dirty) && !signUpForm.get('phone')?.valid }" >
                    <label for="phoneId">Phone</label>
  
                    <div *ngIf="(signUpForm.controls['phone'].touched || signUpForm.controls['phone'].dirty)  && !signUpForm.controls['phone'].valid">
                        <span class="invalid-feedback" *ngIf="signUpForm.controls['phone'].errors?.['required']">
                            <em>Please enter your phone</em>
                        </span>
                    </div>               
                </div>
  
                <div *ngIf="errorMessage$ | async as errorMessage" style="color: red;" >{{ errorMessage }}</div>
  
                <div class="button">
                    <button class="btn fw-bold w-100 p-2" type="submit" [disabled]="!signUpForm.valid" style="color: white; font-size: 1rem; border: none;">Continue</button>
                </div>
          </form>
  
  
          <!-- <form [formGroup]="signUpForm" (ngSubmit)="save()">
            <div class="form-group">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" formControlName="firstName" class="form-control">
              <div *ngIf="signUpForm.get('firstName')?.invalid && (signUpForm.get('firstName')?.touched || signUpForm.get('firstName')?.dirty)">
                <div *ngIf="signUpForm.get('firstName')?.errors?.['required']">First name is required</div>
                <div *ngIf="signUpForm.get('firstName')?.errors?.['minlength']">First name must be at least 3 characters long</div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" formControlName="lastName" class="form-control">
              <div *ngIf="signUpForm.get('lastName')?.invalid && (signUpForm.get('lastName')?.touched || signUpForm.get('lastName')?.dirty)">
                <div *ngIf="signUpForm.get('lastName')?.errors?.['required']">Last name is required</div>
                <div *ngIf="signUpForm.get('lastName')?.errors?.['maxlength']">Last name cannot exceed 10 characters</div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" formControlName="email" class="form-control">
              <div *ngIf="signUpForm.get('email')?.invalid && (signUpForm.get('email')?.touched || signUpForm.get('email')?.dirty)">
                <div *ngIf="signUpForm.get('email')?.errors?.['required']">Email is required</div>
                <div *ngIf="signUpForm.get('email')?.errors?.['email']">Invalid email address</div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="gender">Gender</label>
              <select id="gender" formControlName="gender" class="form-control">
                <option value="" disabled>Select gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
              <div *ngIf="signUpForm.get('gender')?.invalid && (signUpForm.get('gender')?.touched || signUpForm.get('gender')?.dirty)">
                <div *ngIf="signUpForm.get('gender')?.errors?.['required']">Gender is required</div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" id="password" formControlName="password" class="form-control">
              <div *ngIf="signUpForm.get('password')?.invalid && (signUpForm.get('password')?.touched || signUpForm.get('password')?.dirty)">
                <div *ngIf="signUpForm.get('password')?.errors?.['required']">Password is required</div>
                <div *ngIf="signUpForm.get('password')?.errors?.['minlength']">Password must be at least 8 characters long</div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="confirmPassword">Confirm Password</label>
              <input type="password" id="confirmPassword" formControlName="confirmPassword" class="form-control">
              <div *ngIf="signUpForm.hasError('passwordsMismatch') && (signUpForm.get('confirmPassword')?.touched || signUpForm.get('confirmPassword')?.dirty)">
                <div>Passwords do not match</div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="phone">Phone</label>
              <input type="text" id="phone" formControlName="phone" class="form-control">
              <div *ngIf="signUpForm.get('phone')?.invalid && (signUpForm.get('phone')?.touched || signUpForm.get('phone')?.dirty)">
                <div *ngIf="signUpForm.get('phone')?.errors?.['required']">Phone number is required</div>
              </div>
            </div>
          
            <button type="submit" class="btn btn-primary" [disabled]="signUpForm.invalid">Sign Up</button>
          </form> -->
                   
  
              <p class="terms text-center mt-3 mb-3" style="font-size: 0.8rem; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">By continuing you agree to Jossy's <br> <a href="">Terms and Conditions</a></p>
  
              <p class="enquiry text-center mt-2" style="font-size: 0.93rem; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">For further support, you may visit the Help Center or contact our customer service team.</p>
                  
              <div class="header d-flex align-items-center">
                  <h5 class="mb-0 fw-bold me-1">JOSSY</h5>
                  <span class="material-icons icon">star</span>
              </div>
              <p class="login text-center" style="font-size: 0.9rem; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">Already have an account? <a [routerLink]="['/user/login']" routerLinkActive="router-link-active" >Log in</a>
              </p>
          </div>
      </div>

  </div>
</div>